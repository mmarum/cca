{% extends "base-site.html" %}
{% block title %}Catalyst Creative Arts Home{% endblock %}

{% block html_head %}
<style>
#month1, #month2, #month3, #month4, #month5, #month6 {
  display: none;
}
#next_link {
  display: inline;
}
#prev_link {
  display: none;
}
td {
  border-bottom: 1px solid LightGray;
  border-right: 1px solid LightGray;
  padding: 5px;
  padding: 5px;
}
table {
  width: 100%;
}
.logo {
  max-width: 100%;
}
</style>
{% endblock %}

{% block content %}

<div class="row top-buffer">

  <div class="col-sm-1">
  </div>

  <div class="col-md-3">
    <a href="/calendar.html#{{ next_event.eid }}" class="event_link">
      <img alt="{{ next_event.image }}" src="/img/small/{{ next_event.image }}" class="logo"/>
    </a>
  </div>

  <div class="col-md-4">
    <h4>{{ next_event.edatetime.strftime('%a %b %d at %I:%M %p')|replace(' 0', ' ') }} <!-- ({{ next_event.duration }} hrs) --></h4>
    <a href="/calendar.html#{{ next_event.eid }}" class="event_link">
      <h3>{{ next_event.title }}</h3>
    </a>
    <div>
      ${{ next_event.price }} per person
      <!-- <span id="seats_remaining_{{ next_event.eid }}">{{ next_event.elimit }}</span> seats remaining-->
    </div>
    <div>At: {{ next_event.location }}</div>
    <!-- <div class="book_now">Book Now</div> -->
    <!-- <div>{{ next_event.description }}</div> -->

    <div>
    {% set event_desc = next_event.description.split(' ') %}
    {% for e in event_desc -%}{% if loop.index < 30 %}{{ e }} {% endif %}{%- endfor %}
    ... <a href="/calendar.html#{{ next_event.eid }}" class="event_link">Read More</a>
    </div>

  </div>
  <div class="col-md-3">
    <div id="paper_calendar"></div>
    {{ calendar.html|safe }}
  </div>

  <div class="col-sm-1">
  </div>

</div>

<div class="row top-buffer">
  <div class="col-sm-1">
    <a href="#" onclick="that_way(); return false;" style="font-size: 200%">«</a>
  </div>
  <div class="col-sm-2">
    <img id="slide_0" src="/img/small/artist-guided-1.jpg" class="img-fluid"/>
  </div>
  <div class="col-sm-2">
    <img id="slide_1" src="/img/small/artist-guided-2.jpg" class="img-fluid"/>
  </div>
  <div class="col-sm-2">
    <img id="slide_2" src="/img/small/artist-guided-3.jpg" class="img-fluid"/>
  </div>
  <div class="col-sm-2">
    <img id="slide_3" src="/img/small/artist-guided-4.jpg" class="img-fluid"/>
  </div>
  <div class="col-sm-2">
    <img id="slide_4" src="/img/small/artist-guided-5.jpg" class="img-fluid"/>
  </div>
  <div class="col-sm-1">
    <a href="#" onclick="this_way(); return false;" style="font-size: 200%">»</a>
  </div>
</div>

<!--
<div class="row top-buffer">
  <div class="col-sm-2">
  </div>
  <div class="col-sm-8 text-center">
    <div style="float: left">
      <a href="" style="font-size: 200%">«</a>
    </div>
    <div style="float: right">
      <a href="" style="font-size: 200%">»</a>
    </div>
  </div>
  <div class="col-sm-2">
  </div>
</div>
-->

<script>
var slide_two = [
  "/gallery/upload/2020/02/15/20200215203413-373c8fd7_small.jpg",
  "/gallery/upload/2020/02/15/20200215203415-61551fd7_small.jpg",
  "/gallery/upload/2020/02/15/20200215203415-102aea40_small.jpg",
  "/gallery/upload/2020/02/15/20200215203416-11d835c0_small.jpg",
  "/gallery/upload/2020/02/15/20200215203422-a147658f_small.jpg"
]
function that_way() {
  this_way();
}

function this_way() {
  for (var i = 0; i < 5; i++) {
    console.log("slide_"+i);
    console.log(slide_two[i]);
    document.getElementById("slide_"+i).src = slide_two[i];
  }
}

var d = new Date();
var this_month = d.getMonth()+1;
console.log("this_month: "+this_month);
function showMonth(show_month) {
  console.log("show_month: "+show_month);
  var show_month_html = document.getElementById("month"+show_month).innerHTML;
  document.getElementById("paper_calendar").innerHTML = show_month_html;
  if (show_month != this_month) {
    document.getElementById("prev_link").style.display = "inline";
  }
  if (show_month == this_month+3) {
    document.getElementById("next_link").style.display = "none";
  }
}
showMonth(3); // TODO: MAKE THIS DYNAMIC NOT HARD-CODED
</script>

{% endblock %}
