<html>
<head>
<title>Events</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">

<style>
body {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 16px;
  line-height: 1.5;

}
p {
  margin-top: 0;
  margin-bottom: 1rem;
}
a {
  text-decoration: none;
  color: Blue;
  line-height: 1.5;
}
a.event_link {
  color: #505050;
}
td {
  border-bottom: 1px solid LightGray;
  /* border-right: 1px solid LightGray;*/
  margin: 10px;
  padding: 10px;
  vertical-align: top;
}
#header_row {
  background-color: WhiteSmoke;
}
.container {
  max-width: 800px;
  margin: auto;
}
.event_image {
  width: 220px;
}
h1 {
  border: 0px;
  margin: 0px;
}
.book_now {
  display: inline;
  padding: 2px 8px 2px 8px;
  background-color: Yellow;
  border: 1px solid #ddd;
  border-radius: 4px;
  color: #505050;
}

.left {
    float: left;
    width: 250px;
}
.right {
    /* float: right; */
    width: auto;
}
.group:after {
    content:"";
    display: table;
    clear: both;
}
img {
    max-width: 100%;
    height: auto;
}
@media screen and (max-width: 480px) {
  .left, .right {
    float: none;
    width: auto;
  }
  .event_image {
    width: 100%;
  }
}
.topnav {
  text-align: center;
  word-spacing: 15px;
  padding: 10 2 10 2;
  margin: 10 2 10 2;
  background-color: #F8F8F8;
}
.date {
  font-size: 20px;
  padding: 5px;
  border: 1px solid LightGray;
  background-color: LightYellow;
}
</style>
</head>
<body>
<div id="app"><a href="/app/">/app/</a></div>

<div class="container">

<img src="/img/logo.png" class="logo"/>

<div class="topnav">
<span>calendar</span><!-- (includes CC processing) -->
<span>private-events</span><!-- (info and pics) -->
<span>about/contact</span><!-- (info + email form) -->
<span>commissioned-art</span><!-- (info and pics) -->
<span>after-school/summer-camp</span><!-- (info and pics and calendar link) -->
<span>crafts/services</span> <!-- galleries -->
</div>

<!--
crafts/services galleries:
acrylic painting
watercolor painting
PYOP
Artist Guided Family Painting
alcohol ink
fluid art
handbuilt pottery
paint your own pottery
fused glass
leathercraft
resin crafts
water marbling
specialty classes
custom built tables, counter tops, art panels
-->


{% for event in events %}

  <div class="group">

    <div class="left">
      <a href="/app/book/event?eid={{ event.eid }}" class="event_link">
        <img alt="{{ event.image }}" src="/img/small/{{ event.image }}" class="event_image"/>
      </a>
    </div>

    <div class="right">
      <a href="/app/book/event?eid={{ event.eid }}" class="event_link">
      <div>
        <span class="date">{{ event.edatetime.strftime('%a %b %d at %I:%M %p')|replace(' 0', ' ') }}</span>
         {{ event.duration }} hrs
      </div>
      <h1>{{ event.title }}</h1>
      <div>
        ${{ event.price }} per person,
        <span id="seats_remaining_{{ event.eid }}">{{ event.elimit }}</span> seats remaining.
      </div>
      <div>At: {{ event.location }}</div>
      <div class="book_now">Book Now</div>
      <div>{{ event.description }}</div>
      </a>
    </div>

  </div>
  <hr>

{% endfor %}

<script>
var orders_count = {{ orders_count }};
for (var key in orders_count) {
  if (orders_count.hasOwnProperty(key)) {
    sr = document.getElementById("seats_remaining_"+key);
    new_value = sr.innerHTML-orders_count[key];
    console.log(key + " -> " + orders_count[key] + " old-val: " + sr.innerHTML + " new-val: " + new_value);
    sr.innerHTML = new_value;
  }
}
</script>

</div>

</body>
</html>
